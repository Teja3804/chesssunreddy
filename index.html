<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Master - Advanced Chess Game</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Opening Page -->
    <div id="openingPage" class="opening-page">
        <div class="opening-container">
            <header class="opening-header">
                <h1><i class="fas fa-chess-king"></i> Chess Master</h1>
                <p>Select your game settings and start playing!</p>
            </header>

            <div class="settings-panel">
                <div class="setting-section">
                    <h3><i class="fas fa-clock"></i> Time Controls</h3>
                    <div class="time-controls">
                        <button class="time-btn" data-time="1">1 min</button>
                        <button class="time-btn" data-time="3">3 min</button>
                        <button class="time-btn" data-time="5">5 min</button>
                        <button class="time-btn" data-time="10">10 min</button>
                        <button class="time-btn" data-time="15">15 min</button>
                        <button class="time-btn" data-time="30">30 min</button>
                    </div>
                    <div class="increment-controls">
                        <label>Increment: <span id="incrementValue">0</span>s</label>
                        <input type="range" id="incrementSlider" min="0" max="30" value="0" step="5">
                    </div>
                </div>

                <div class="setting-section">
                    <h3><i class="fas fa-palette"></i> Board Theme</h3>
                    <div class="theme-controls">
                        <button class="theme-btn active" data-theme="classic">Classic</button>
                        <button class="theme-btn" data-theme="modern">Modern</button>
                        <button class="theme-btn" data-theme="wooden">Wooden</button>
                    </div>
                </div>

                <div class="setting-section">
                    <h3><i class="fas fa-history"></i> Previous Games</h3>
                    <div class="previous-games" id="previousGames">
                        <div class="no-games">No previous games yet</div>
                    </div>
                </div>

                <div class="setting-section">
                    <h3><i class="fas fa-users"></i> Game Mode</h3>
                    <div class="game-mode">
                        <label>
                            <input type="radio" name="gameMode" value="oneDevice" checked>
                            <span class="mode-label">Using One Device</span>
                            <span class="mode-description">Both players play on the same device. Board automatically flips after each move.</span>
                        </label>
                        <label>
                            <input type="radio" name="gameMode" value="twoDevices">
                            <span class="mode-label">Two Devices</span>
                            <span class="mode-description">Each player uses their own device (future feature).</span>
                        </label>
                    </div>
                </div>

                <div class="setting-section">
                    <h3><i class="fas fa-cog"></i> Game Settings</h3>
                    <div class="game-settings">
                        <label>
                            <input type="checkbox" id="soundToggle" checked>
                            Sound effects
                        </label>
                        <label>
                            <input type="checkbox" id="highlightToggle" checked>
                            Highlight moves
                        </label>
                        <label>
                            <input type="checkbox" id="notationToggle" checked>
                            Algebraic notation
                        </label>
                    </div>
                </div>
            </div>

            <div class="play-button-container">
                <button id="testBtn" class="test-btn">
                    <i class="fas fa-bug"></i> Test Game Logic
                </button>
                <button id="playBtn" class="play-btn">
                    <i class="fas fa-play"></i> Start Game
                </button>
            </div>
        </div>
    </div>

    <!-- Game Page -->
    <div id="gamePage" class="game-page" style="display: none;">
        <div class="game-container">
            <div class="game-header">
                <button id="backToMenuBtn" class="back-btn">
                    <i class="fas fa-arrow-left"></i> Back to Menu
                </button>
                <div class="game-info">
                    <span id="gameTimeControl">10 min</span>
                    <span id="gameIncrement">+0s</span>
                </div>
                <button id="newGameBtn" class="btn btn-primary">
                    <i class="fas fa-plus"></i> New Game
                </button>
            </div>

            <div class="game-content">
                <div class="chess-section">
                    <div class="player-info player-black">
                        <div class="player-name">Black</div>
                        <div class="timer" id="blackTimer">10:00</div>
                    </div>

                    <div class="chess-container">
                        <div class="chessboard" id="chessboard"></div>
                        <div class="board-labels">
                            <div class="file-labels">
                                <span>a</span><span>b</span><span>c</span><span>d</span><span>e</span><span>f</span><span>g</span><span>h</span>
                            </div>
                            <div class="rank-labels">
                                <span>8</span><span>7</span><span>6</span><span>5</span><span>4</span><span>3</span><span>2</span><span>1</span>
                            </div>
                        </div>
                    </div>

                    <div class="player-info player-white">
                        <div class="player-name">White</div>
                        <div class="timer" id="whiteTimer">10:00</div>
                    </div>
                </div>

                <div class="game-sidebar">
                                    <div class="sidebar-section">
                    <h3><i class="fas fa-info-circle"></i> Game Status</h3>
                    <div class="game-status" id="gameStatus">White to move</div>
                    <div class="auto-flip-info" id="autoFlipInfo" style="display: none;">
                        <i class="fas fa-sync-alt"></i> Board will auto-flip after each move
                    </div>
                </div>

                    <div class="sidebar-section">
                        <h3><i class="fas fa-history"></i> Move History</h3>
                        <div class="move-history" id="moveHistory">
                            <div class="move-number">1.</div>
                            <div class="moves"></div>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <h3><i class="fas fa-chess-board"></i> Captured Pieces</h3>
                        <div class="captured-pieces">
                            <div class="captured-white" id="capturedWhite">
                                <h4>White</h4>
                            </div>
                            <div class="captured-black" id="capturedBlack">
                                <h4>Black</h4>
                            </div>
                        </div>
                    </div>

                    <div class="sidebar-section">
                        <h3><i class="fas fa-cog"></i> Quick Settings</h3>
                        <div class="quick-settings">
                            <button id="flipBoardBtn" class="btn btn-secondary">
                                <i class="fas fa-sync-alt"></i> Flip Board
                            </button>
                            <button id="resignBtn" class="btn btn-danger">
                                <i class="fas fa-flag"></i> Resign
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Over Overlay -->
        <div class="game-overlay" id="gameOverlay" style="display: none;">
            <div class="overlay-content">
                <h2 id="overlayTitle">Game Over</h2>
                <p id="overlayMessage">Checkmate!</p>
                <div class="overlay-buttons">
                    <button id="playAgainBtn" class="btn btn-primary">Play Again</button>
                    <button id="backToMenuBtn2" class="btn btn-secondary">Back to Menu</button>
                </div>
            </div>
        </div>
    </div>

    <script src="chess.js"></script>
    <script src="app.js"></script>
</body>
</html>
